<!DOCTYPE html>
<html lang="en">

<!-- index.html -->

<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/png" href="../assets/images/logo/logo.png" />
    <title>Select Role</title>
    <link rel="stylesheet" href="../assets/css/index.css">
    <link rel="stylesheet" href="../assets/css/style.css">
    <script src="../js/util.js" defer></script>
    <script src="../js/render.js" defer></script>
    <script src="../js/components/modals.js" defer></script>
    <script src="../js/components/header.js" defer></script>
    <script src="../js/components/footer.js" defer></script>
</head>

<body>
    <div class="container">
        <div class="wrapper">
            <div id="header"></div>
            <main class="main-content role-selection">
                <h1>Select Your Role</h1>
                <div class="role-buttons">
                    <button id="adminBtn" class="role-btn">Admin</button>
                    <button id="patientBtn" class="role-btn">Patient</button>
                    <button id="doctorBtn" class="role-btn">Doctor</button>
                </div>
            </main>
            <div id="footer"></div>
        </div>
    </div>

    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeModal">&times;</span>
            <div id="modal-body"></div>
        </div>
    </div>

    <script type="module">
        // Attach behavior for role selection buttons.
        import { openModal } from './js/components/modals.js';

        const adminBtn = document.getElementById('adminBtn');
        const patientBtn = document.getElementById('patientBtn');
        const doctorBtn = document.getElementById('doctorBtn');

        if (adminBtn) {
            adminBtn.addEventListener('click', () => {
                // set role for later pages and open admin login modal
                if (window.setRole) window.setRole('admin');
                openModal('adminLogin');
            });
        }

        if (patientBtn) {
            patientBtn.addEventListener('click', () => {
                if (window.setRole) window.setRole('patient');
                openModal('patientLogin');
            });
        }

        if (doctorBtn) {
            doctorBtn.addEventListener('click', () => {
                if (window.setRole) window.setRole('doctor');
                openModal('doctorLogin');
            });
        }
    </script>

</body>

</html>